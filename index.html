<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Seri Moment - Toko kue premium online. Nikmati bolu, pudding, bingka, dan kue khas lainnya yang lezat dan manis dalam setiap gigitan.">
<meta name="keywords" content="Seri Moment, toko kue, bolu, pudding, bingka, kue khas Banjar, toko kue Amuntai, kue tradisional">
<meta name="author" content="Seri Moment">
<meta property="og:title" content="Seri Moment – Etalase Premium Kue" />
<meta property="og:description" content="Momen manis dalam setiap gigitan – temukan kue favoritmu di Seri Moment!" />
<meta property="og:image" content="https://yourwebsite.com/assets/thumbnail.jpg" />
<meta property="og:url" content="https://yourwebsite.com/" />
<meta name="twitter:card" content="summary_large_image">
<link rel="canonical" href="https://yourwebsite.com/" />
  <title>seri moment – Etalase Premium</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="assets/favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Quicksand&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/scrollreveal"></script>
</head>
<body>
  <div class="loader" id="loader">Loading...</div>

  <!-- HERO -->
<!-- HERO SECTION -->
<section class="hero">
  <div class="hero-overlay"></div>
  <video autoplay muted loop playsinline class="hero-video">
    <source src="assets/video/hero-bg.mp4" type="video/mp4" />
    Browser kamu tidak mendukung video latar.
  </video>

  <div class="hero-content">
    <h1 class="hero-title">Kue Premium, Untuk Momen Paling Manis 💖</h1>
    <p class="hero-sub">Dari dapur kami ke hatimu — lembut, hangat, dan penuh rasa cinta.</p>

    <div class="hero-buttons">
      <!-- <a href="#pemesanan" class="hero-btn">🛍️ Pesan Sekarang</a> -->
      <a href="#product-list" class="hero-btn-outline">Lihat Menu</a>
      <a href="#daftar-komentar" class="hero-btn-outline">Lihat Testimoni</a>
    </div>
  </div>
</section>

<!-- HEADER NAVIGATION -->
<header>
  <div class="logo">SERI MOMENT</div>
  <p class="tagline">Momen Manis Dalam Setiap Gigitan</p>

  <div class="search-bar2">
    <input type="text" id="searchInput" placeholder="🔍 Cari produk favoritmu..." />
  </div>

  <div class="filter-container" id="categoryFilter"></div>

  <div class="header-tools">
    <button class="cart-icon" id="cart-icon">🛒 <span id="cart-count">0</span></button>
    <button class="dark-toggle" id="dark-toggle">🌙</button>
  </div>
  <div id="sound-toggle" title="Suara Aktif" class="sound-on">🔊</div>
</header>

  <!-- PRODUK -->
  <main>
    <section class="products">
      <div id="product-list" class="product-grid"></div>
    </section>
    <p class="note">Tunggu apa lagi? Pesan kue favoritmu melalui WhatsApp!</p>
  </main>

  <!-- FORM PEMESANAN -->
<!-- <section class="form-pemesanan" id="pemesanan">
  <h2>Form Pemesanan</h2>
  <form id="orderForm" onsubmit="return redirectToWA(event)">
    <input type="text" id="nama" name="nama" placeholder="Nama Lengkap" required />
    <input type="text" id="nohp" name="nohp" placeholder="Nomor WhatsApp" required />
    <select id="produk" name="produk" required>
      <option value="">Pilih Produk</option>
      <option value="Bolu Coklat">Bolu Coklat</option>
      <option value="Pudding Regal">Pudding Regal</option>
      <option value="Bingka Tapai">Bingka Tapai</option> -->
      <!-- Tambahkan produk lain di sini -->
    <!-- </select>
    <input type="number" id="jumlah" name="jumlah" placeholder="Jumlah (opsional)" min="1" />
    <button type="submit">Pesan Sekarang</button>
  </form>
</section> -->

  <!-- TESTIMONI -->
  <section class="testimoni">
    <h2>Apa Kata Pelanggan?</h2>
    <div class="testimonial-slider">
      <div class="testimonial-slide active">
        <p>"Sumpahhh... ini enak sekalii!!"</p>
        <h4>– Hj. Annisa, Amuntai</h4>
      </div>
      <div class="testimonial-slide">
        <p>"Kada bedulakan makan wadai napa ja disini!"</p>
        <h4>– Nabila, Amuntai</h4>
      </div>
      <div class="testimonial-slide">
        <p>"Lembut dan lumer..."</p>
        <h4>– M. Fikri</h4>
      </div>
    </div>
    <div class="testimonial-nav">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </section>
    <!-- Form Testimoni -->
<div id="form-komentar">
  <input type="text" id="namaInput" placeholder="Nama Anda">
  <textarea id="pesanInput" placeholder="Tulis testimoni Anda..."></textarea>
  <input type="file" id="fotoInput" accept="image/*">
  <button onclick="kirimKomentar()">Kirim</button>
</div>

<!-- Daftar Testimoni -->
<div class="testimoni" id="daftar-komentar"></div>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 seri moment. All rights reserved.</p>
    <a href="https://wa.me/6285348176001" class="wa-float" target="_blank" title="Pesan via WhatsApp">💬</a>
  </footer>

  <!-- POPUP PRODUK -->
  <div id="popup" class="popup">
    <div class="popup-content">
      <span class="close-popup">&times;</span>
      <img id="popup-img" src="" alt="">
      <h2 id="popup-title"></h2>
      <p id="popup-desc"></p>
      <p class="price" id="popup-price"></p>
      <a id="wa-order-btn" class="wa-order-btn" target="_blank">📦 Pesan Sekarang</a>
      <a id="popup-order" href="" class="order-btn" target="_blank">Pesan Sekarang via WhatsApp</a>
    </div>
  </div>

  <!-- SIDEBAR KERANJANG -->
  <div id="cart-sidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>Keranjang Belanja</h3>
      <span id="close-cart" class="close-cart">&times;</span>
    </div>
    <ul id="cart-items" class="cart-items"></ul>
    <div class="cart-total">
      <p>Total: <span id="cart-total">Rp 0</span></p>
      <div class="cart-actions">
        <button id="clear-cart" class="clear-cart">Hapus Semua</button>
        <a id="checkout-btn" class="checkout-btn" target="_blank">Checkout via WhatsApp</a>
      </div>
    </div>
  </div>

  <div id="welcome-popup" class="popup-hidden">
  <div class="popup-content">
    <h2>🎉 Selamat Datang di Seri Moment!</h2>
    <p>Temukan momen manismu di sini 🍰</p>
    <button id="close-welcome">Mulai Jelajahi</button>
  </div>
</div>

  <audio id="click-sound" src="click.mp3" preload="auto"></audio>
  <audio id="bg-music" src="calm-background.mp3" loop preload="auto"></audio>
  <div id="music-toggle" title="Musik Aktif">🎵</div>

<div id="admin-controls" style="text-align: center; margin-top: 2rem;">
  <button class="btn-admin" onclick="loginAdmin()">🔐 Login Admin</button>
  <button class="btn-admin logout" onclick="logoutAdmin()">🚪 Logout</button>
</div>

  <!-- TOAST NOTIFIKASI -->
  <div id="toast" class="toast">Ditambahkan ke keranjang 🍰</div>

  <!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
  apiKey: "AIzaSyAI1CuNHJ5xW01MPJNy6qGBgh-O8zM1xTc",
  authDomain: "serimoment-873c1.firebaseapp.com",
  databaseURL: "https://serimoment-873c1-default-rtdb.firebaseio.com",
  projectId: "serimoment-873c1",
  storageBucket: "serimoment-873c1.firebasestorage.app",
  messagingSenderId: "695273184944",
  appId: "1:695273184944:web:f073b17680b20b8975a575",
  measurementId: "G-C3NS8WPF6Z"
};
 firebase.initializeApp(firebaseConfig);
  const database = firebase.database();
</script>
  </script>

  <script>
  function loginAdmin() {
    const password = prompt("Masukkan password admin:");
    if (password === "Srie099095") {
      localStorage.setItem("isAdmin", "true");
      alert("Login berhasil sebagai admin!");
      location.reload();
    } else {
      alert("Password salah!");
    }
  }

  function logoutAdmin() {
    localStorage.removeItem("isAdmin");
    alert("Berhasil logout dari admin.");
    location.reload();
  }

  function isAdminLogin() {
    return localStorage.getItem("isAdmin") === "true";
  }
</script>

  <script>
  const daftarKomentar = document.getElementById('daftar-komentar');

  function kirimKomentar() {
    const nama = document.getElementById("namaInput").value.trim();
    const isi = document.getElementById("pesanInput").value.trim();
    const fileInput = document.getElementById("fotoInput");
    const file = fileInput.files[0];

    if (!nama || !isi) return alert("Nama dan testimoni harus diisi!");

    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        const base64Foto = e.target.result;

        const komentar = {
        nama: nama,
        isi: isi,
        waktu: new Date().toISOString(),
        foto: base64Foto
    };


    // Kirim ke Firebase
    database.ref("testimoni").push(komentar);
    bersihkanForm();
  };
  reader.readAsDataURL(file);
} else {  
  const komentar = {
    nama: nama,
    isi: isi,
    waktu: new Date().toISOString()
  };
  database.ref("testimoni").push(komentar);
  bersihkanForm();
  }
}
function bersihkanForm() {
    // Kosongkan input
    document.getElementById("namaInput").value = "";
    document.getElementById("pesanInput").value = "";
    document.getElementById("fotoInput").value = "";
  }

  // Ambil data dari Firebase & tampilkan otomatis
  database.ref("testimoni").on("value", (snapshot) => {
    daftarKomentar.innerHTML = ""; // Bersihkan isi sebelumnya
    const data = snapshot.val();
    if (data) {
const semuaKomentar = Object.entries(data).reverse(); // Pakai .entries untuk dapat ID komentar

semuaKomentar.forEach(([id, komentar]) => {
  const item = document.createElement("div");
  item.className = "card-komentar";

  let tombolHapus = "";
  if (isAdminLogin()) {
    tombolHapus = `<button onclick="hapusKomentar('${id}')" class="btn-hapus">Hapus</button>`;
  }

  const fotoHTML = komentar.foto
    ?`<img src="${komentar.foto}" alt="foto Testimoni" style="max-width:100%; border-radius:10px; margin-top:8px;">`
    : "";

  item.innerHTML = `
    <strong>${komentar.nama}</strong><br>
    <small>${new Date(komentar.waktu).toLocaleString()}</small>
    <p>${komentar.isi}</p>
    ${fotoHTML}
    ${tombolHapus}
  `;

  daftarKomentar.appendChild(item);
});
    } else {
      daftarKomentar.innerHTML = "<p>Belum ada testimoni.</p>";
    }
  });
</script>
<script>
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener("click", function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute("href"));
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 50, // Bisa disesuaikan
          behavior: "smooth"
        });
      }
    });
  });
</script>

  <script src="script.js"></script>
</body>
</html>